# 指针

> 原文:[https://www.learn-c.org/en/Pointers](https://www.learn-c.org/en/Pointers)

* * *

指针也是变量，在 C 编程语言中起着非常重要的作用。使用它们有几个原因，例如:

*   字符串
*   动态存储分配
*   按引用发送函数参数
*   构建复杂的数据结构
*   指向函数
*   构建特殊的数据结构(如树、树等)...)

还有很多。

### 什么是指针？

指针本质上是一个简单的整数变量，它保存一个指向某个值的**内存地址**，而不是保存实际值本身。

计算机的内存是数据的顺序存储，指针指向内存的特定部分。我们的程序可以以这样一种方式使用指针，即指针指向大量的内存——这取决于我们决定从该点开始读取多少。

### 字符串作为指针

我们已经讨论了字符串，但现在我们可以更深入一点，理解 C 中的字符串到底是什么(当与 C++混合时，它们被称为 C 字符串，以区别于其他字符串)

下面一行:

```
char * name = "John"; 
```

做三件事:

1.  它分配一个名为`name`的局部(堆栈)变量，这是一个指向单个字符的指针。
2.  它导致字符串“John”出现在程序内存的某个地方(当然是在编译和执行之后)。
3.  它初始化`name`参数，指向`J`字符所在的位置(后面是内存中字符串的其余部分)。

如果我们尝试以数组的形式访问`name`变量，它将工作，并将返回字符`J`的序数值，因为`name`变量实际上正好指向字符串的开头。

既然我们知道内存是顺序的，我们可以假设如果我们在内存中向前移动到下一个字符，我们将接收到字符串中的下一个字母，直到我们到达字符串的末尾，用空终止符(序数值为 0 的字符，记为`\0`)标记。

### 取消引用

解引用是指指针指向的地方，而不是内存地址。我们已经在数组中使用解引用了——只是我们还不知道而已。例如，括号操作符- `[0]`访问数组的第一项。由于数组实际上是指针，访问数组中的第一项就相当于取消对指针的引用。使用星号运算符`*`来取消对指针的引用。

如果我们想创建一个指向堆栈中不同变量的数组，我们可以编写以下代码:

```
/* define a local variable a */
int a = 1;

/* define a pointer variable, and point it to a using the & operator */
int * pointer_to_a = &a;

printf("The value a is %d\n", a);
printf("The value of a is also %d\n", *pointer_to_a); 
```

注意，我们使用了`&`操作符指向我们刚刚创建的变量`a`。

然后我们使用解引用操作符来引用它。我们还可以更改被取消引用的变量的内容:

```
int a = 1;
int * pointer_to_a = &a;

/* let's change the variable a */
a += 1;

/* we just changed the variable again! */
*pointer_to_a += 1;

/* will print out 3 */
printf("The value of a is now %d\n", a); 
```

## 锻炼

创建一个指向名为`pointer_to_n`的局部变量`n`的指针，并用它将`n`的值加 1。